<h1 class="text-center mb-4">Welcome to my todolist app</h1>
<%= render 'layouts/task_form'  %>
<%= render 'layouts/modalin'  %>
<%= render 'layouts/modalup'  %>
<div class="container">
  <ul id="tab" class="btn-group">
  <% @categories.each do  |category|%>
  <li><button class="btn btn-info tab-title" onclick="openTab(event, 'card_<%= category.id %>')" ><%= category.title  %></button></li>
  
  <% end %>
  </ul>
  <% @categories.each do  |category|%>
  <div id="card_<%= category.id %>" class="card intab" style="display: none">
    <ul>
      <% category.tasks.each do |task|  %>
      <li>
        <%= task.title  %>
        <% unless task.deadline.nil? %>
          , to read: <%= task.deadline.strftime('%D')  %>
        <% end %>
      </li>
      <% end %>
    </ul>
  </div>
  <% end %>
  </ul>
</div>

<div class="container justify-content-center">
  <div class="row images d-flex flex-column">
    <div class=" slides d-flex justify-content-center">
    <% @tasks.each do |task|  %>
      <div id="img_<%= task.id %>" class="img card" >
        <% unless task.image.nil? %>
          <%= image_tag task.image, class: "rounded-circle" %>
        <% end %>
      </div>
    <% end %>
    </div>
    <div id= "dots" class="d-flex justify-content-center">
      <% @tasks.each do |task|  %>
        <span class="dot" id='<%= task.id %>'></span>
      <% end %>
    </div>
    <br/>
    
    <div class="d-flex justify-content-center">
    <div class="col-3 d-flex justify-content-between">
      <div class="appButton" id="previous">&#10094;</div>
      <div class="appButton" id="next">&#10095;</div>
    </div>
    </div>
    <br/>
  </div>
  
</div>
